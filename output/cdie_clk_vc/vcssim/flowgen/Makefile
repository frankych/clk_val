# This file is auto-generated by flowgen

# Environment settings for flow vcssim from the env:

export WORKAREA   ?= /nfs/site/disks/arl_frankych_wa_01/NVL_CLK_VAL/frameworks.validation.vip.clock-vc
export OUTPUT_DIR ?= /nfs/site/disks/arl_frankych_wa_01/NVL_CLK_VAL/frameworks.validation.vip.clock-vc/output
export CRB        ?= /p/hdk/pu_tu/prd/crb/master/2021.09.fe.CRB.2.21.5
export PATH := /p/hdk/rtl/cad/x86-64_linux44/synopsys/vcsmx/P-2019.06-SP2-6/bin:/p/hdk/rtl/cad/x86-64_linux44/synopsys/verdi3/P-2019.06-SP2-6/bin:/usr/intel/pkgs/gcc/6.4.0/bin:/usr/intel/pkgs/gcc/6.4.0/x86_64-suse-linux/bin:/usr/intel/bin:/usr/bin:/bin
export PESG_FE_CENTRAL_TOOL_ORDER := found
export SNPSLMD_LICENSE_FILE := $(shell /p/hdk/rtl/proj_tools/getLf/master/18.01.16/getLf synopsys/vcsmx)
export UVM_HOME := $(WORKAREA)/subip/vip/uvm
export VCS_HOME := /p/hdk/rtl/cad/x86-64_linux44/synopsys/vcsmx/P-2019.06-SP2-6
export VCS_LIB := /p/hdk/rtl/cad/x86-64_linux44/synopsys/vcsmx/P-2019.06-SP2-6/suse64
export VCS_LIC_EXPIRE_WARNING := 0
export VCS_TARGET_ARCH := suse64
export VC_SV_PYDOH_INFRA := $(WORKAREA)/subip/vip/vc_sv_pydoh_infra
export VERDI_HOME := /p/hdk/rtl/cad/x86-64_linux44/synopsys/verdi3/P-2019.06-SP2-6

.SUFFIXES:

# Physical library: IOSF_SVC_IOSF_SVC_uvm_val_lib
vcssim.lib.IOSF_SVC_IOSF_SVC_uvm_val_lib : $(WORKAREA)/output/cdie_clk_vc/vcssim/lib/IOSF_SVC_IOSF_SVC_uvm_val_lib/.done
$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/IOSF_SVC_IOSF_SVC_uvm_val_lib/.done: \
			$(if $(IGNDEPLIBS),,$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/uvm_val/.done) \
			$(if $(IGNDEPLIBS),,$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/saola_val_uvm/.done) \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/IOSF_SVC_IOSF_SVC_uvm_val_lib/.file_dependencies \
			$(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/IOSF_SVC/val/IOSF_SVC_uvm_val_lib.f \
			$(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/IOSF_SVC/val/IOSF_SVC_uvm_val_lib_opts.f \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/analysis_opts.f \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/mapfiles/vcssim.lib.IOSF_SVC_IOSF_SVC_uvm_val_lib.map
	$(eval TASKDIR  := $(WORKAREA)/output/cdie_clk_vc/vcssim/lib/IOSF_SVC_IOSF_SVC_uvm_val_lib)
	$(eval TARGET_NAME := vcssim.lib.IOSF_SVC_IOSF_SVC_uvm_val_lib)
	$(call prepare_analysis)
	$(eval TASK_NAME := IOSF_SVC.IOSF_SVC_uvm_val_lib)
	$(if $(PREFIX_COMMAND),env SYNOPSYS_SIM_SETUP=$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/mapfiles/vcssim.lib.IOSF_SVC_IOSF_SVC_uvm_val_lib.map $(PREFIX_COMMAND) vlogan -work IOSF_SVC_IOSF_SVC_uvm_val_lib -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/IOSF_SVC/val/IOSF_SVC_uvm_val_lib_opts.f -f $(WORKAREA)/output/cdie_clk_vc/vcssim/analysis_opts.f -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/IOSF_SVC/val/IOSF_SVC_uvm_val_lib.f, \
	$(call execute, env SYNOPSYS_SIM_SETUP=$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/mapfiles/vcssim.lib.IOSF_SVC_IOSF_SVC_uvm_val_lib.map vlogan -work IOSF_SVC_IOSF_SVC_uvm_val_lib -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/IOSF_SVC/val/IOSF_SVC_uvm_val_lib_opts.f -f $(WORKAREA)/output/cdie_clk_vc/vcssim/analysis_opts.f -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/IOSF_SVC/val/IOSF_SVC_uvm_val_lib.f ))
	$(call print_env_vars )
$(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/IOSF_SVC/val/IOSF_SVC_uvm_val_lib.f: \
	$(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/IOSF_SVC/uvm_pkg.f \
	$(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/IOSF_SVC/hwmon.f \
	$(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/IOSF_SVC/main.f \
	$(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/IOSF_SVC/iosf_svc_comp.f
		touch $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/IOSF_SVC/val/IOSF_SVC_uvm_val_lib.f

# Physical library: cdie_clk_vc_tb
vcssim.lib.cdie_clk_vc_tb : $(WORKAREA)/output/cdie_clk_vc/vcssim/lib/cdie_clk_vc_tb/.done
$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/cdie_clk_vc_tb/.done: \
			$(if $(IGNDEPLIBS),,$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/uvm_val/.done) \
			$(if $(IGNDEPLIBS),,$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/saola_val_uvm/.done) \
			$(if $(IGNDEPLIBS),,$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/IOSF_SVC_IOSF_SVC_uvm_val_lib/.done) \
			$(if $(IGNDEPLIBS),,$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/vc_sv_pydoh_infra_val/.done) \
			$(if $(IGNDEPLIBS),,$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/cdie_clk_vc_val/.done) \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/cdie_clk_vc_tb/.file_dependencies \
			$(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/cdie_clk_vc/val/tb.f \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/analysis_opts.f \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/mapfiles/vcssim.lib.cdie_clk_vc_tb.map
	$(eval TASKDIR  := $(WORKAREA)/output/cdie_clk_vc/vcssim/lib/cdie_clk_vc_tb)
	$(eval TARGET_NAME := vcssim.lib.cdie_clk_vc_tb)
	$(call prepare_analysis)
	$(eval TASK_NAME := cdie_clk_vc.tb)
	$(if $(PREFIX_COMMAND),env SYNOPSYS_SIM_SETUP=$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/mapfiles/vcssim.lib.cdie_clk_vc_tb.map $(PREFIX_COMMAND) vlogan -work cdie_clk_vc_tb -f $(WORKAREA)/output/cdie_clk_vc/vcssim/analysis_opts.f -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/cdie_clk_vc/val/tb.f, \
	$(call execute, env SYNOPSYS_SIM_SETUP=$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/mapfiles/vcssim.lib.cdie_clk_vc_tb.map vlogan -work cdie_clk_vc_tb -f $(WORKAREA)/output/cdie_clk_vc/vcssim/analysis_opts.f -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/cdie_clk_vc/val/tb.f ))
	$(call print_env_vars )

# Physical library: cdie_clk_vc_val
vcssim.lib.cdie_clk_vc_val : $(WORKAREA)/output/cdie_clk_vc/vcssim/lib/cdie_clk_vc_val/.done
$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/cdie_clk_vc_val/.done: \
			$(if $(IGNDEPLIBS),,$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/uvm_val/.done) \
			$(if $(IGNDEPLIBS),,$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/saola_val_uvm/.done) \
			$(if $(IGNDEPLIBS),,$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/IOSF_SVC_IOSF_SVC_uvm_val_lib/.done) \
			$(if $(IGNDEPLIBS),,$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/vc_sv_pydoh_infra_val/.done) \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/cdie_clk_vc_val/.file_dependencies \
			$(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/cdie_clk_vc/val/val.f \
			$(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/cdie_clk_vc/val/val_opts.f \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/analysis_opts.f \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/mapfiles/vcssim.lib.cdie_clk_vc_val.map
	$(eval TASKDIR  := $(WORKAREA)/output/cdie_clk_vc/vcssim/lib/cdie_clk_vc_val)
	$(eval TARGET_NAME := vcssim.lib.cdie_clk_vc_val)
	$(call prepare_analysis)
	$(eval TASK_NAME := cdie_clk_vc.val)
	$(if $(PREFIX_COMMAND),env SYNOPSYS_SIM_SETUP=$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/mapfiles/vcssim.lib.cdie_clk_vc_val.map $(PREFIX_COMMAND) vlogan -work cdie_clk_vc_val -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/cdie_clk_vc/val/val_opts.f -f $(WORKAREA)/output/cdie_clk_vc/vcssim/analysis_opts.f -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/cdie_clk_vc/val/val.f, \
	$(call execute, env SYNOPSYS_SIM_SETUP=$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/mapfiles/vcssim.lib.cdie_clk_vc_val.map vlogan -work cdie_clk_vc_val -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/cdie_clk_vc/val/val_opts.f -f $(WORKAREA)/output/cdie_clk_vc/vcssim/analysis_opts.f -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/cdie_clk_vc/val/val.f ))
	$(call print_env_vars )

# Physical library: saola_val_uvm
vcssim.lib.saola_val_uvm : $(WORKAREA)/output/cdie_clk_vc/vcssim/lib/saola_val_uvm/.done
$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/saola_val_uvm/.done: \
			$(if $(IGNDEPLIBS),,$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/uvm_val/.done) \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/saola_val_uvm/.file_dependencies \
			$(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/saola/val/val_uvm.f \
			$(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/saola/val/val_uvm_opts.f \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/analysis_opts.f \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/mapfiles/vcssim.lib.saola_val_uvm.map
	$(eval TASKDIR  := $(WORKAREA)/output/cdie_clk_vc/vcssim/lib/saola_val_uvm)
	$(eval TARGET_NAME := vcssim.lib.saola_val_uvm)
	$(call prepare_analysis)
	$(eval TASK_NAME := saola.val_uvm)
	$(if $(PREFIX_COMMAND),env SYNOPSYS_SIM_SETUP=$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/mapfiles/vcssim.lib.saola_val_uvm.map $(PREFIX_COMMAND) vlogan -work saola_val_uvm -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/saola/val/val_uvm_opts.f -f $(WORKAREA)/output/cdie_clk_vc/vcssim/analysis_opts.f -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/saola/val/val_uvm.f, \
	$(call execute, env SYNOPSYS_SIM_SETUP=$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/mapfiles/vcssim.lib.saola_val_uvm.map vlogan -work saola_val_uvm -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/saola/val/val_uvm_opts.f -f $(WORKAREA)/output/cdie_clk_vc/vcssim/analysis_opts.f -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/saola/val/val_uvm.f ))
	$(call print_env_vars )

# Physical library: uvm_val
vcssim.lib.uvm_val : $(WORKAREA)/output/cdie_clk_vc/vcssim/lib/uvm_val/.done
$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/uvm_val/.done: \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/uvm_val/.file_dependencies \
			$(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/uvm/val/val.f \
			$(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/uvm/val/val_opts.f \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/analysis_opts.f \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/mapfiles/vcssim.lib.uvm_val.map
	$(eval TASKDIR  := $(WORKAREA)/output/cdie_clk_vc/vcssim/lib/uvm_val)
	$(eval TARGET_NAME := vcssim.lib.uvm_val)
	$(call prepare_analysis)
	$(eval TASK_NAME := uvm.val)
	$(if $(PREFIX_COMMAND),env SYNOPSYS_SIM_SETUP=$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/mapfiles/vcssim.lib.uvm_val.map $(PREFIX_COMMAND) vlogan -work uvm_val -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/uvm/val/val_opts.f -f $(WORKAREA)/output/cdie_clk_vc/vcssim/analysis_opts.f -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/uvm/val/val.f, \
	$(call execute, env SYNOPSYS_SIM_SETUP=$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/mapfiles/vcssim.lib.uvm_val.map vlogan -work uvm_val -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/uvm/val/val_opts.f -f $(WORKAREA)/output/cdie_clk_vc/vcssim/analysis_opts.f -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/uvm/val/val.f ))
	$(call print_env_vars )

# Physical library: vc_sv_pydoh_infra_val
vcssim.lib.vc_sv_pydoh_infra_val : $(WORKAREA)/output/cdie_clk_vc/vcssim/lib/vc_sv_pydoh_infra_val/.done
$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/vc_sv_pydoh_infra_val/.done: \
			$(if $(IGNDEPLIBS),,$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/uvm_val/.done) \
			$(if $(IGNDEPLIBS),,$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/saola_val_uvm/.done) \
			$(if $(IGNDEPLIBS),,$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/IOSF_SVC_IOSF_SVC_uvm_val_lib/.done) \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/vc_sv_pydoh_infra_val/.file_dependencies \
			$(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/vc_sv_pydoh_infra/val/val.f \
			$(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/vc_sv_pydoh_infra/val/val_opts.f \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/analysis_opts.f \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/mapfiles/vcssim.lib.vc_sv_pydoh_infra_val.map
	$(eval TASKDIR  := $(WORKAREA)/output/cdie_clk_vc/vcssim/lib/vc_sv_pydoh_infra_val)
	$(eval TARGET_NAME := vcssim.lib.vc_sv_pydoh_infra_val)
	$(call prepare_analysis)
	$(eval TASK_NAME := vc_sv_pydoh_infra.val)
	$(if $(PREFIX_COMMAND),env SYNOPSYS_SIM_SETUP=$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/mapfiles/vcssim.lib.vc_sv_pydoh_infra_val.map $(PREFIX_COMMAND) vlogan -work vc_sv_pydoh_infra_val -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/vc_sv_pydoh_infra/val/val_opts.f -f $(WORKAREA)/output/cdie_clk_vc/vcssim/analysis_opts.f -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/vc_sv_pydoh_infra/val/val.f, \
	$(call execute, env SYNOPSYS_SIM_SETUP=$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/mapfiles/vcssim.lib.vc_sv_pydoh_infra_val.map vlogan -work vc_sv_pydoh_infra_val -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/vc_sv_pydoh_infra/val/val_opts.f -f $(WORKAREA)/output/cdie_clk_vc/vcssim/analysis_opts.f -f $(WORKAREA)/output/cdie_clk_vc/genfile_dv/vcssim/vc_sv_pydoh_infra/val/val.f ))
	$(call print_env_vars )

# Model elaboration

# vcssim.model.cdie_clk_vc_model
vcssim.model.cdie_clk_vc_model: $(WORKAREA)/output/cdie_clk_vc/vcssim/model/cdie_clk_vc_model/cdie_clk_vc_model.simv

ifndef IGNLIBS
DONE_FILE :=  \
$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/uvm_val/.done \
$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/saola_val_uvm/.done \
$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/IOSF_SVC_IOSF_SVC_uvm_val_lib/.done \
$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/vc_sv_pydoh_infra_val/.done \
$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/cdie_clk_vc_val/.done \
$(WORKAREA)/output/cdie_clk_vc/vcssim/lib/cdie_clk_vc_tb/.done
else
DONE_FILE := 
endif

$(WORKAREA)/output/cdie_clk_vc/vcssim/model/cdie_clk_vc_model/cdie_clk_vc_model.simv: \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/model/cdie_clk_vc_model/.file_dependencies \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/elab_opts.f \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/liblist/vcssim.model.cdie_clk_vc_model.liblist \
			$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/mapfiles/vcssim.model.cdie_clk_vc_model.map \
			$(DONE_FILE)
	$(eval TASKDIR  := $(WORKAREA)/output/cdie_clk_vc/vcssim/model/cdie_clk_vc_model)
	$(eval TASK_NAME := cdie_clk_vc_model)
	$(eval TASKTYPE := elab)
	$(eval TARGET_NAME := vcssim.model.cdie_clk_vc_model)
	$(eval LOGFILE  := $(TASKDIR)/$(TASKTYPE).log)
	-@/bin/rm -f $(LOGFILE)
	-@/bin/mkdir -p $(TASKDIR)
	-@/bin/mkdir -p $(TASKDIR)/tmp
	$(if $(PREFIX_COMMAND),env SYNOPSYS_SIM_SETUP=$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/mapfiles/vcssim.model.cdie_clk_vc_model.map $(PREFIX_COMMAND) vcs cdie_clk_vc_tb -o $(WORKAREA)/output/cdie_clk_vc/vcssim/model/cdie_clk_vc_model/cdie_clk_vc_model.simv -file $(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/liblist/vcssim.model.cdie_clk_vc_model.liblist    -file $(WORKAREA)/output/cdie_clk_vc/vcssim/elab_opts.f, \
	$(call execute, env SYNOPSYS_SIM_SETUP=$(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/mapfiles/vcssim.model.cdie_clk_vc_model.map vcs cdie_clk_vc_tb -o $(WORKAREA)/output/cdie_clk_vc/vcssim/model/cdie_clk_vc_model/cdie_clk_vc_model.simv -file $(WORKAREA)/output/cdie_clk_vc/vcssim/flowgen/liblist/vcssim.model.cdie_clk_vc_model.liblist    -file $(WORKAREA)/output/cdie_clk_vc/vcssim/elab_opts.f ))
	$(call print_env_vars )

# Verdi invocation target for model cdie_clk_vc_model
vcssim.model.cdie_clk_vc_model.verdi :
	@/bin/mkdir -p $(WORKAREA)/output/cdie_clk_vc/vcssim/model/cdie_clk_vc_model.verdi/logs
	@/bin/touch $(WORKAREA)/output/cdie_clk_vc/vcssim/model/cdie_clk_vc_model.verdi/logs/novas.conf
	verdi -nologo -dbdir $(WORKAREA)/output/cdie_clk_vc/vcssim/model/cdie_clk_vc_model/cdie_clk_vc_model.simv.daidir -simflow -logdir $(WORKAREA)/output/cdie_clk_vc/vcssim/model/cdie_clk_vc_model.verdi/logs -guiConf $(WORKAREA)/output/cdie_clk_vc/vcssim/model/cdie_clk_vc_model.verdi/logs/novas.conf -rcFile $(WORKAREA)/output/cdie_clk_vc/vcssim/model/cdie_clk_vc_model.verdi/logs/novas.rc $(VERDI_ARGS)

# Global variables used in this file

COMMA :=,
EMPTY :=
SPACE := $(EMPTY) $(EMPTY)
define CR


endef
HELPCMD ?= make <target1 target2...>
TARGET_NAME_LEN := 40
TASK_NAME_LEN := 29
ANALYSIS_TARGETS := vcssim.lib.IOSF_SVC_IOSF_SVC_uvm_val_lib vcssim.lib.cdie_clk_vc_tb vcssim.lib.cdie_clk_vc_val vcssim.lib.saola_val_uvm vcssim.lib.uvm_val vcssim.lib.vc_sv_pydoh_infra_val
ELAB_TARGETS := vcssim.model.cdie_clk_vc_model

# Include file dependencies of our targets

%.file_dependencies: ;
include $(wildcard $(WORKAREA)/output/cdie_clk_vc/vcssim/lib/*/.file_dependencies)
include $(wildcard $(WORKAREA)/output/cdie_clk_vc/vcssim/model/*/.file_dependencies)


# A few preparatory steps common to all physical libraries

define prepare_analysis
	$(eval TASKTYPE := analysis)
	$(eval LOGFILE  := $(TASKDIR)/$(TASKTYPE).log)
	-@/bin/rm -rf $(TASKDIR)/[^.]*
	-@/bin/mkdir -p $(TASKDIR)
	-@/bin/mkdir -p $(TASKDIR)/tmp
endef

# Print a standard status update when a job begins and ends (RUN, PASS, FAIL)
#
# $(1): The status of this job, either RUN, PASS or FAIL

define print_status
	/usr/bin/printf "`date +%H:%M:%S` %-10s %-$(TARGET_NAME_LEN)s %-$(TASK_NAME_LEN)s %7s\n" $(TASKTYPE) $(TARGET_NAME) $(TASK_NAME) $(1)
endef

# Print the env params to a log
define print_env_vars
	$(eval ENVFILE  := $(TASKDIR)/$(TASK_NAME).env.log)
	@env | sort > $(ENVFILE)
endef


# Echo a command to the log file, then run the command, then check its exit status

define execute
	$(eval COMMAND := $(1))
	$(eval PARSE_LOG := $(CRB)/scripts/parse_log.pl -flow vcssim -output $@ -log $(LOGFILE) -rundir $(TASKDIR)/tmp)
	@$(call print_status,RUN)
	@cd $(TASKDIR)/tmp; \
	echo '$(COMMAND)' >> $(LOGFILE) 2>&1; \
	$(COMMAND) >> $(LOGFILE) 2>&1; \
	if [ $$? != 0 ]; then \
		$(call print_status,'** FAIL **'); \
		echo "      Log: $(LOGFILE)"; \
		exit 1; \
	fi; \
	echo '$(PARSE_LOG)' >> $(LOGFILE) 2>&1; \
	$(PARSE_LOG) >> $(LOGFILE) 2>&1; \
	if [ $$? != 0 ]; then \
		$(call print_status,'** FAIL **'); \
		echo "      Log: $(LOGFILE)"; \
		exit 1; \
	fi;
	@$(call print_status,PASS)
	@echo "      Log: $(LOGFILE)"
endef

# Other useful targets

.DEFAULT_GOAL := all
.PHONY: all all_elab all_analysis $(ELAB_TARGETS) $(ANALYSIS_TARGETS)
all_elab: $(ELAB_TARGETS)
all_analysis: $(ANALYSIS_TARGETS)
all_analysis_cdie_clk_vc_model : vcssim.lib.uvm_val vcssim.lib.saola_val_uvm vcssim.lib.IOSF_SVC_IOSF_SVC_uvm_val_lib vcssim.lib.vc_sv_pydoh_infra_val vcssim.lib.cdie_clk_vc_val vcssim.lib.cdie_clk_vc_tb
cdie_clk_vc_model: $(cdie_clk_vc_model)
all: all_analysis all_elab

clean:
	-@/bin/rm -rf $(WORKAREA)/output/cdie_clk_vc/vcssim/{lib,model,64,csrc,sysc}

help:
	@printf '\nTo run one or more of the following targets, use\n> $(HELPCMD)\n'
	@printf '\nAnalysis targets: \n\t'
	@echo -e "$(subst $(SPACE),\$(CR)\n\t,$(ANALYSIS_TARGETS))"
	@printf '\nElaboration targets: \n\t'
	@echo -e "$(subst $(SPACE),\$(CR)\n\t,$(ELAB_TARGETS))"
	@printf '\nOther targets: \n\tall\n\tall_analysis\n\tall_analysis_cdie_clk_vc_model\n\tall_elab\n\tclean\n\tvcssim.model.cdie_clk_vc_model.verdi\n\n'
